version: 2

models:
  - name: int_jira_join
    description: >
      The core issue table, enhanced with current-status attributes from foreign-key-related tables,
      and metrics regarding resolutions and assignments.
    columns:
      - name: issue_id
        description: Unique ID of the issue. 
        tests:
          - unique
          - not_null
      - name: issue_name
        description: Title of the issue.
      - name: last_updated_at
        description: Timestamp of when the issue was last updated in some way.
      - name: issue_type
        description: Name of the issue type (ie Epic, Task, Subtask, any custom types).
      - name: created_at
        description: Timestamp of when the issue was created (in UTC).
      - name: issue_description
        description: The issue description, if given.
      - name: due_date
        description: Calendar day on which the issue is due, if a due date is provided.
      - name: environment
        description: Text field describing the environment in which the issue occurred (ie "IE9 on Windows 7").
      - name: assignee_user_id
        description: Foreign key referencing the ID of the `user` currently assigned to this task.
      - name: assignee_name
        description: User display name of the person currently assigned this issue.
      - name: reporter_user_id
        description: >
          Foreign key referencing the ID of the `user` who reported the issue. This differs from the `issue.creator` column 
          in that the reporter can be changed in-app, though it is initialized as the creator.
      - name: reporter_name
        description: User display name of the person who reported the issue.
      - name: assignee_timezone
        description: Timezone of the user currently assigned this issue.
      - name: assignee_email
        description: Email associated with the user currently assigned this issue.
      - name: issue_key
        description: UI-facing id of the issue.
      - name: parent_issue_id
        description: Self-referencing ID of the parent `issue`.
      - name: parent_issue_key
        description: Issue key of the sub-issue's parent.
      - name: parent_issue_type
        description: Name of the type of issue that the parent is.
      - name: current_priority
        description: Name of the issue's current priority as it appears in the UI.
      - name: project_id
        description: Foreign key referencing the `project` that the issue belongs to.
      - name: project_name
        description: Title of the issue's project.
      - name: resolution_type
        description: Display name of the type of resolution that closed the issue.
      - name: resolved_at
        description: >
          Timestamp of when the issue was resolved (ie completed, marked as duplicate). If an issue
          is un-resolved, this will be null.
      - name: current_status
        description: Title of the category of status.
      - name: status_changed_at
        description: Timestamp of when the status was last changed.
      - name: epic_name
        description: Title of the issue's epic (it's `issue_name`, as all epics are issues).
      - name: epic_issue_id
        description: Self-referencing issue ID of the epic that this issue is associated with.
      - name: epic_key
        description: Issue key of the epic.
      - name: sprint_id
        description: Foreign key referencing the `sprint` that the issue is currently in.
      - name: sprint_name
        description: Title of the issue's sprint.
      - name: n_sprint_changes
        description: The total number of sprints that the issue has belonged to.
      - name: original_estimate_seconds
        description: The original estimate of how long working on this issue would take, in seconds.
      - name: remaining_estimate_seconds
        description: The estimate of how much longer working on this issue will take, in seconds.
      - name: time_spent_seconds
        description: The time that was spent working on this issue, in seconds.
      - name: work_ratio
        description: >
          The percentage of work that has been logged against the issue (time_spent) vs the original estimate of worktime.
          Equals -1.0 when the fields required for calculation are not provided.
      - name: conversation
        description: >
          Line-separated list of comments made on this issue, including the timestamp and author name of each comment.
      - name: n_comments
        description: The number of comments made on this issues. 